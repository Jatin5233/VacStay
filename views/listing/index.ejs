<%-layout("./layouts/boilerplate.ejs")%>

<body>
    <div class="container2">
      <div class="row ">
        <div class="filter-table">
          <div class="filter">
            <i class="fa-solid fa-fire"></i>
            <p>Trending</p>
          </div>
          <div class="filter">
            <i class="fa-solid fa-bed"></i>
            <p>Rooms</p>
          </div>
          <div class="filter">
            <i class="fa-solid fa-mountain-city"></i>
            <p>Iconic Cities</p>
          </div>
          <div class="filter">
            <i class="fa-solid fa-mountain-sun"></i>
            <p>Mountains</p>
          </div>
          <div class="filter">
            <i class="fa-solid fa-umbrella-beach"></i>
            <p>Beaches</p>
          </div>
          <div class="filter camp">
            <i class="fa-solid fa-campground"></i>
            <p>Camps</p>
          </div>
          <div class="filter snow">
            <i class="fa-solid fa-snowflake"></i>
            <p>Arctic</p>
          </div>
          <div class="filter tree">
            <i class="fa-solid fa-tree"></i>
            <p>Treehouse</p>
          </div>
          <div class="filter castle">
            <i class="fa-solid fa-chess-rook"></i>
            <p>Castle</p>
          </div>
          <div class="toggle">
            <div class="form-check-reverse form-switch">
              <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault">
              <label class="form-check-label" for="flexSwitchCheckDefault">Display after taxes</label>
            </div>
          </div>
          
          
        </div>
      </div>
       
        <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 list">
            <% for(let listing of allListing){%>
                <a href="/allListing/<%=listing._id%>" class="link">
                    <div class="card col listing-card" >
                        <img src="<%=listing.image.url%>" class="card-img-top" alt="<%=listing.title%>" style="height:20rem;">
                        <div class="card-img-overlay"></div>
                        <div class="card-body">
                          <p class="card-text"><%=listing.title%></p>
                          <div class="prices">
                            <p class="card-price">&#8377;<%=listing.price.toLocaleString("en-IN")%>/night</p>
                          <i><p class="tax-info" > &nbsp;&nbsp; +18%GST</p></i>
                          </div>
                          
                        </div>
                      </div>
                </a>
                
                  <%}%>
        </div>
    </div>
 
<script >
  let taxButton=document.querySelector("#flexSwitchCheckDefault")
  let taxInfo=document.querySelectorAll(".tax-info")
  taxButton.addEventListener("click",()=>{
    for(info of taxInfo){
      if(info.style.display!="inline"){
        info.style.display="inline"
      }else {
        info.style.display="none"
      }
      
    }
  })
</script>
</body>
